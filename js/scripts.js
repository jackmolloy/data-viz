// my js

$(document).ready(function() {
    $('#example').DataTable( {
        "ajax": '../top50.txt',
        "order": [[ 1, "desc" ]]
    } );

    $('#example2').DataTable( {
        "ajax": '../top50_less.txt',
        "order": [[ 1, "desc" ]]
    } );

    loadCharts();

} );


// SCATTER PLOT


function loadCharts() {


// function moneyLine() {
  var chart = c3.generate({
      bindto: '#chart',
      size: {
          height: 400,
          width: 700
      },
      data: {
          x: 'x',
          columns: [
              ['x',  2007,  2008,  2009,  2010,  2011,  2012,  2013,  2014,  2015,  2016],
              ['Average Budget',  35117483.7,  41804885.57,  37073287.04,  45476979.7,  37615372.44,  41143274.62,  40334376.48,  35325799.13,  38299777.42,  56642741.94],
              ['Average Gross Revenue',  46267501.02,  44573509.38,  46207440.2,  49908326.01,  45785836.64,  62873527.68,  56158357.78,  62412136.95,  66530966.48,  76924035.89],
          ],
          types: {
              'Average Budget': 'spline',
              'Average Gross Revenue': 'spline'
          }
        }

  });

// }

// function moneyLine() {
  var chart = c3.generate({
      bindto: '#chart6',
      size: {
          height: 300,
          width: 350
      },
      data: {
          x: 'x',
          columns: [
              ['x',  2007,  2008,  2009,  2010,  2011,  2012,  2013,  2014,  2015,  2016],
              ['Average Budget',  35117483.7,  41804885.57,  37073287.04,  45476979.7,  37615372.44,  41143274.62,  40334376.48,  35325799.13,  38299777.42,  56642741.94],
              ['Average Gross Revenue',  46267501.02,  44573509.38,  46207440.2,  49908326.01,  45785836.64,  62873527.68,  56158357.78,  62412136.95,  66530966.48,  76924035.89],
          ],
          types: {
              'Average Budget': 'spline',
              'Average Gross Revenue': 'spline'
          }
        }

  });


// function fbScatter15() {
var chart = c3.generate({
    bindto: '#chart2',
    size: {
        height: 400,
        width: 700
    },
    data: {
        xs: {
            total_rev: 'movie_facebook_likes',
            // versicolor: 'versicolor_x',
        },
        // iris data from R
        json: {
            total_rev: [200074175 , 458991599 , 652177271 , 350034110 , 123070338 , 47375327 , 356454367 , 93417865 , 281666058 , 89732035 , 153629485 , 195000874 , 34964818 , 183635922 , 180191634 , 177343675 , 56114221 , 155181732 , 129995817 , 228430993 , 34964818 , 28772222 , 24985612 , 130174897 , 201148159 , 85884815 , 78747585 , 56114221 , 169692572 , 27356090 , 1339152 , 45434443 , 336029560 , 162495848 , 7097125 , 81257500 , 53846915 , 43247140 , 72413 , 54116191 , 81687587 , 56443482 , 7605668 , 80021740 , 62563543 , 150315155 , 26442251 , 31569268 , 1206135 , 5773519 , 166147885 , 90353764 , 75274748 , 72306065 , 5773519 , 10640645 , 6498000 , 71038190 , 109712885 , 20991497 , 2126511 , 110008260 , 34531832 , 34507079 , 10137502 , 10214013 , 37432299 , 58879132 , 46875468 , 52418902 , 42478175 , 183436380 , 161029270 , 70235322 , 6998324 , 12276810 , 1865774 , 12188642 , 28772222 , 5773519 , 6027866 , 42652003 , 44988180 , 13650738 , 6420319 , 2246000 , 531009 , 54734 , 26284475 , 17750583 , 44469602 , 42592530 , 20991497 , 613556 , 66009973 , 12282677 , 25440971 , 14677654 , 1712111 , 31990064 , 22331028 , 177343675 , 14616 , 38317535 , 33305037 , 52200504 , 27736779 , 33071558 , 43771291 , 5348317 , 34017854 , 3442820 , 17474107 , 532988 , 43771291 , 25799043 , 27285953 , 4700361 , 3219029 , 65069140 , 34964818 , 131175 , 35385560 , 25138292 , 29233 , 229094 , 201148159 , 12985267 , 3330 , 3590010 , 2557668 , 1477002 , 186354 , 444044 , 105943 , 375723 , 80021740 , 62480 , 177343675 , 34151 , 1711 , 4914 , 22757819],
            'movie_facebook_likes': [85000,118000,150000,94000,20000,44000,118000,37000,38000,82000,191000,47000,24000,190000,61000,26000,41000,52000,27000,153000,24000,37000,27000,33000,56000,0,39000,41000,16000,21000,31000,43000,70000,16000,11000,30000,23000,40000,0,114000,24000,24000,12000,35000,44000,13000,15000,67000,18000,11000,101000,14000,54000,55000,11000,0,21000,8000,70000,11000,12000,25000,23000,0,24000,0,23000,28000,59000,44000,34000,40000,76000,99000,0,11000,43000,0,37000,11000,0,33000,80000,25000,15000,0,0,0,0,23000,21000,27000,11000,0,41000,0,109000,72000,0,0,0,26000,26000,36000,34000,29000,13000,21000,15000,0,8000,0,23000,0,15000,0,16000,0,10000,27000,24000,22000,8000,43000,121,0,56000,13000,305,0,0,0,0,1000,212,0,35000,793,26000,111,175,215,0]
        },
        type: 'scatter',
        names: {
            total_rev: '2015'
        }
    },
    axis: {
        x: {
          // type: 'category',
          // categories: ['cat1', 'cat2', 'cat3', 'cat4', 'cat5', 'cat6', 'cat7', 'cat8', 'cat9'],

              label: '# of Facebook Likes',
              tick: {
                  fit: false,
                  format: d3.format(",")
              }
          },
        y: {
          label: 'Total Revenue',
          tick: {
              fit: false,
              format: d3.format("$,")
          }
        }
    }
});

// function fbScatter15_SM() {
var chart = c3.generate({
    bindto: '#chart4',
    size: {
        height: 300,
        width: 350
    },
    data: {
        xs: {
            total_rev: 'movie_facebook_likes',
            // versicolor: 'versicolor_x',
        },
        // iris data from R
        json: {
            total_rev: [200074175 , 458991599 , 652177271 , 350034110 , 123070338 , 47375327 , 356454367 , 93417865 , 281666058 , 89732035 , 153629485 , 195000874 , 34964818 , 183635922 , 180191634 , 177343675 , 56114221 , 155181732 , 129995817 , 228430993 , 34964818 , 28772222 , 24985612 , 130174897 , 201148159 , 85884815 , 78747585 , 56114221 , 169692572 , 27356090 , 1339152 , 45434443 , 336029560 , 162495848 , 7097125 , 81257500 , 53846915 , 43247140 , 72413 , 54116191 , 81687587 , 56443482 , 7605668 , 80021740 , 62563543 , 150315155 , 26442251 , 31569268 , 1206135 , 5773519 , 166147885 , 90353764 , 75274748 , 72306065 , 5773519 , 10640645 , 6498000 , 71038190 , 109712885 , 20991497 , 2126511 , 110008260 , 34531832 , 34507079 , 10137502 , 10214013 , 37432299 , 58879132 , 46875468 , 52418902 , 42478175 , 183436380 , 161029270 , 70235322 , 6998324 , 12276810 , 1865774 , 12188642 , 28772222 , 5773519 , 6027866 , 42652003 , 44988180 , 13650738 , 6420319 , 2246000 , 531009 , 54734 , 26284475 , 17750583 , 44469602 , 42592530 , 20991497 , 613556 , 66009973 , 12282677 , 25440971 , 14677654 , 1712111 , 31990064 , 22331028 , 177343675 , 14616 , 38317535 , 33305037 , 52200504 , 27736779 , 33071558 , 43771291 , 5348317 , 34017854 , 3442820 , 17474107 , 532988 , 43771291 , 25799043 , 27285953 , 4700361 , 3219029 , 65069140 , 34964818 , 131175 , 35385560 , 25138292 , 29233 , 229094 , 201148159 , 12985267 , 3330 , 3590010 , 2557668 , 1477002 , 186354 , 444044 , 105943 , 375723 , 80021740 , 62480 , 177343675 , 34151 , 1711 , 4914 , 22757819],
            'movie_facebook_likes': [85000,118000,150000,94000,20000,44000,118000,37000,38000,82000,191000,47000,24000,190000,61000,26000,41000,52000,27000,153000,24000,37000,27000,33000,56000,0,39000,41000,16000,21000,31000,43000,70000,16000,11000,30000,23000,40000,0,114000,24000,24000,12000,35000,44000,13000,15000,67000,18000,11000,101000,14000,54000,55000,11000,0,21000,8000,70000,11000,12000,25000,23000,0,24000,0,23000,28000,59000,44000,34000,40000,76000,99000,0,11000,43000,0,37000,11000,0,33000,80000,25000,15000,0,0,0,0,23000,21000,27000,11000,0,41000,0,109000,72000,0,0,0,26000,26000,36000,34000,29000,13000,21000,15000,0,8000,0,23000,0,15000,0,16000,0,10000,27000,24000,22000,8000,43000,121,0,56000,13000,305,0,0,0,0,1000,212,0,35000,793,26000,111,175,215,0]
        },
        type: 'scatter',
        names: {
            total_rev: '2015'
        }
    },
    axis: {
        x: {
          label: '# of Facebook Likes',
          tick: {
              fit: false,
              format: d3.format(","),
              count: 6
          }
        },
        y: {
          label: 'Total Revenue',
          tick: {
              fit: false,
              format: d3.format("$,")
          }
        }
    }
});



// function fbScatter08() {
var chart = c3.generate({
    bindto: '#chart3',
    size: {
        height: 400,
        width: 700
    },
    data: {
        xs: {
            total_rev: 'movie_facebook_likes',
            // versicolor: 'versicolor_x',
        },
        // iris data from R
        json: {
            total_rev: [533316061, 223806889, 148085755, 7757130, 141319195, 318298180, 145000989, 26236603, 4417124, 127490802, 35707327, 9030581, 4958, 69951824, 12995673, 215395021, 34180954, 31838002, 15700000, 173783, 3081925, 228830, 215185, 5694401, 124720, 23213577, 143151473, 1027749, 104792, 75754670, 183088, 317040, 2656324, 17655201, 140244, 52166, 12081447, 10911750, 206678, 7518876, 4881867, 143704210, 317011114, 30691439, 44087387, 23091, 16284360, 31199215, 108662, 140016, 46012734, 20668843, 32853640, 1089365, 12701880, 578527, 42168445, 6563357, 55202, 191449475, 191449475, 7563670, 11508423, 64505912, 11802056, 19781879, 36497, 4693919, 30105968, 511920, 7001720, 140987, 43818159, 13350177, 4131640],
            'movie_facebook_likes': [37000, 16000, 28000, 32000, 13000, 10000, 29000, 10000, 37000, 23000, 14000, 38000, 1000, 26000, 24000, 6000, 15000, 10000, 16000, 588, 13000, 489, 26, 12000, 777, 14000, 11000, 1000, 22000, 3000, 702, 1000, 2000, 851, 8000, 371, 866, 982, 1000, 28, 1000, 10000, 5000, 5000, 894, 921, 1000, 472, 3000, 443, 3000, 687, 702, 845, 175, 883, 464, 847, 39, 19000, 19000, 518, 376, 6000, 791, 2000, 850, 422, 279, 211, 797, 58, 1000, 562, 140]
        },
        type: 'scatter',
        names: {
            total_rev: '2008'
        }
    },
    axis: {
        x: {
            label: '# of Facebook Likes',
            tick: {
                fit: false,
                format: d3.format(",")
            }
        },

        y: {
          label: 'Total Revenue',
          tick: {
              fit: false,
              format: d3.format("$,")
          }
        }
    }
});

// function fbScatter08_SM() {
var chart = c3.generate({
    bindto: '#chart5',
    size: {
        height: 300,
        width: 350
    },
    data: {
        xs: {
            total_rev: 'movie_facebook_likes',
            // versicolor: 'versicolor_x',
        },
        // iris data from R
        json: {
            total_rev: [533316061, 223806889, 148085755, 7757130, 141319195, 318298180, 145000989, 26236603, 4417124, 127490802, 35707327, 9030581, 4958, 69951824, 12995673, 215395021, 34180954, 31838002, 15700000, 173783, 3081925, 228830, 215185, 5694401, 124720, 23213577, 143151473, 1027749, 104792, 75754670, 183088, 317040, 2656324, 17655201, 140244, 52166, 12081447, 10911750, 206678, 7518876, 4881867, 143704210, 317011114, 30691439, 44087387, 23091, 16284360, 31199215, 108662, 140016, 46012734, 20668843, 32853640, 1089365, 12701880, 578527, 42168445, 6563357, 55202, 191449475, 191449475, 7563670, 11508423, 64505912, 11802056, 19781879, 36497, 4693919, 30105968, 511920, 7001720, 140987, 43818159, 13350177, 4131640],
            'movie_facebook_likes': [37000, 16000, 28000, 32000, 13000, 10000, 29000, 10000, 37000, 23000, 14000, 38000, 1000, 26000, 24000, 6000, 15000, 10000, 16000, 588, 13000, 489, 26, 12000, 777, 14000, 11000, 1000, 22000, 3000, 702, 1000, 2000, 851, 8000, 371, 866, 982, 1000, 28, 1000, 10000, 5000, 5000, 894, 921, 1000, 472, 3000, 443, 3000, 687, 702, 845, 175, 883, 464, 847, 39, 19000, 19000, 518, 376, 6000, 791, 2000, 850, 422, 279, 211, 797, 58, 1000, 562, 140]
        },
        type: 'scatter',
        names: {
            total_rev: '2008'
        }
    },
    axis: {
        x: {
          label: '# of Facebook Likes',
          tick: {
              fit: false,
              format: d3.format(","),
          }
        },

        y: {
            label: 'Total Revenue',
            tick: {
                fit: false,
                format: d3.format("$,")
            }
        }
    }
});

// }

}





// function loadData(){
//   $.ajax data.json
//   on success parseData(data)
// }
//
// function parseData() {
//   do my processing for:
//   men v women
//   standard dev
//   set arrays
//     gender
//     age
//
//   generateCloseScatter();
//   generateChartGenderPie();
//   buildDataTable();
// }
//
//
//
// function generateCloseScatter() {
//
//   var chart = c3.generate({
//       bindto: '#chart',
//       data: {
//           xs: {
//               setosa: 'setosa_x',
//               versicolor: 'versicolor_x',
//           },
//           // iris data from R
//           columns: [
//               ["setosa_x",  3.5,  3.0,  3.2,  3.1,  3.6,  3.9,  3.4,  3.4,  2.9,  3.1,  3.7,  3.4,  3.0,  3.0,  4.0,  4.4,  3.9,  3.5,  3.8,  3.8,  3.4,  3.7,  3.6,  3.3,  3.4,  3.0,  3.4,  3.5,  3.4,  3.2,  3.1,  3.4,  4.1,  4.2,  3.1,  3.2,  3.5,  3.6,  3.0,  3.4,  3.5,  2.3,  3.2,  3.5,  3.8,  3.0,  3.8,  3.2,  3.7,  3.3],
//               ["versicolor_x",  3.2,  3.2,  3.1,  2.3,  2.8,  2.8,  3.3,  2.4,  2.9,  2.7,  2.0,  3.0,  2.2,  2.9,  2.9,  3.1,  3.0,  2.7,  2.2,  2.5,  3.2,  2.8,  2.5,  2.8,  2.9,  3.0,  2.8,  3.0,  2.9,  2.6,  2.4,  2.4,  2.7,  2.7,  3.0,  3.4,  3.1,  2.3,  3.0,  2.5,  2.6,  3.0,  2.6,  2.3,  2.7,  3.0,  2.9,  2.9,  2.5,  2.8],
//               ["setosa",  0.2,  0.2,  0.2,  0.2,  0.2,  0.4,  0.3,  0.2,  0.2,  0.1,  0.2,  0.2,  0.1,  0.1,  0.2,  0.4,  0.4,  0.3,  0.3,  0.3,  0.2,  0.4,  0.2,  0.5,  0.2,  0.2,  0.4,  0.2,  0.2,  0.2,  0.2,  0.4,  0.1,  0.2,  0.2,  0.2,  0.2,  0.1,  0.2,  0.2,  0.3,  0.3,  0.2,  0.6,  0.4,  0.3,  0.2,  0.2,  0.2,  0.2],
//               ["versicolor",  1.4,  1.5,  1.5,  1.3,  1.5,  1.3,  1.6,  1.0,  1.3,  1.4,  1.0,  1.5,  1.0,  1.4,  1.3,  1.4,  1.5,  1.0,  1.5,  1.1,  1.8,  1.3,  1.5,  1.2,  1.3,  1.4,  1.4,  1.7,  1.5,  1.0,  1.1,  1.0,  1.2,  1.6,  1.5,  1.6,  1.5,  1.3,  1.3,  1.3,  1.2,  1.4,  1.2,  1.0,  1.3,  1.2,  1.3,  1.3,  1.1,  1.3],
//           ],
//           type: 'scatter'
//       },
//       axis: {
//           x: {
//               label: 'Sepal.Width',
//               tick: {
//                   fit: false
//               }
//           },
//           y: {
//               label: 'Petal.Width'
//           }
//       }
//   });
//
// }
//
// function generateChartAgeBar() {
//   make bar chart about age
// }
//
// function buildDataTable() {
//   call datables json
// }
